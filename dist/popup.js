(()=>{"use strict";var e,t={22:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(354),r=o.n(n),l=o(314),a=o.n(l)()(r());a.push([e.id,'body {\n  width: 320px;\n  /* height: 480px; */\n  background-color: #f5eded;\n  font-family: "Roboto";\n  color: #000000;\n}\n',"",{version:3,sources:["webpack://./src/popup/popup.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,mBAAmB;EACnB,yBAAyB;EACzB,qBAAqB;EACrB,cAAc;AAChB",sourcesContent:['body {\r\n  width: 320px;\r\n  /* height: 480px; */\r\n  background-color: #f5eded;\r\n  font-family: "Roboto";\r\n  color: #000000;\r\n}\r\n'],sourceRoot:""}]);const i=a},268:(e,t,o)=>{var n=o(540),r=(o(951),o(338)),l=o(72),a=o.n(l),i=o(825),c=o.n(i),s=o(659),d=o.n(s),u=o(56),p=o.n(u),m=o(159),f=o.n(m),h=o(113),b=o.n(h),g=o(22),x={};x.styleTagTransform=b(),x.setAttributes=p(),x.insert=d().bind(null,"head"),x.domAPI=c(),x.insertStyleElement=f(),a()(g.A,x),g.A&&g.A.locals&&g.A.locals;const y=document.createElement("div");document.body.appendChild(y),(0,r.createRoot)(y).render(n.createElement((()=>{const[e,t]=(0,n.useState)([]),[o,r]=(0,n.useState)(null),[l,a]=(0,n.useState)(!1),[i,c]=(0,n.useState)(null),[s,d]=(0,n.useState)(0),[u,p]=(0,n.useState)(""),[m,f]=(0,n.useState)(null),[h,b]=(0,n.useState)(null),[g,x]=(0,n.useState)(null),[y,E]=(0,n.useState)(null);(0,n.useEffect)((()=>{chrome.runtime.sendMessage({action:"getBlockedSites"},(e=>{e&&e.blockedSites&&t(e.blockedSites)})),chrome.storage.local.get(["timerExpiration","totalTime","unblockCount","unblockResetTime","cooldownExpiration"],(e=>{const t=Date.now(),o=e.timerExpiration||0,n=e.totalTime||null,l=e.unblockCount||0,i=e.unblockResetTime||0,s=e.cooldownExpiration||0;if(t>i?(chrome.storage.local.set({unblockCount:0,unblockResetTime:t+864e5}),d(0)):d(l),o>t){const e=Math.floor((o-t)/1e3);r(e),c(n),a(!0)}s>t&&(x(s),E(Math.floor((s-t)/1e3)))}))}),[]),(0,n.useEffect)((()=>{let e;return null!==o&&o>0?e=setTimeout((()=>r((e=>e?e-1:0))),1e3):0===o&&(chrome.runtime.sendMessage({action:"timerExpired"}),a(!1)),()=>clearTimeout(e)}),[o]),(0,n.useEffect)((()=>{let e;return null!==y&&y>0?e=setTimeout((()=>E((e=>e?e-1:0))),1e3):0===y&&(x(null),chrome.storage.local.remove("cooldownExpiration")),()=>clearTimeout(e)}),[y]);const v=(e,t,o=3e3)=>{f(e),b(t),setTimeout((()=>{f(null),b(null)}),o)},k=(e,t=!1)=>{if(!t&&s>=3)return;const o=60*e,n=Date.now()+1e3*o;if(r(o),c(o),a(!0),!t){const e=s+1;d(e),chrome.storage.local.set({unblockCount:e})}chrome.runtime.sendMessage({action:"startTimer",duration:o}),chrome.storage.local.set({timerExpiration:n,totalTime:o}),chrome.storage.local.get(["unblockResetTime"],(e=>{e.unblockResetTime||chrome.storage.local.set({unblockResetTime:Date.now()+864e5})}))};return n.createElement("div",{style:{padding:"20px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif',textAlign:"center",backgroundColor:"#f5eded",borderRadius:"12px",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)",maxWidth:"400px",margin:"20px auto"}},n.createElement("div",{style:{display:"flex",alignItems:"center",position:"absolute",top:"20px",left:"10px"}},n.createElement("img",{src:"https://i.ibb.co/ZWHMsct/hand.png",alt:"logo",style:{width:"24px",height:"24px",marginRight:"8px"}}),n.createElement("span",{style:{fontSize:"10px",color:"#333",fontWeight:"bold"}},"The Bet Blocker")),n.createElement("h2",{style:{fontSize:"12px",marginBottom:"20px",color:"#333"}},"Stay in control by limiting access to gambling sites."," ",n.createElement("a",{href:"https://docs.google.com/document/d/1OPNpl-iGCarB77_h4sUenV_4Pyf_Yvn3_R_xmqnGRuc/edit?usp=sharing",target:"_blank",rel:"noopener noreferrer",style:{color:"#d72323",textDecoration:"none"}},"View Blocked Gambling Sites")),n.createElement("p",{style:{fontSize:"14px",color:"#555",marginBottom:"10px"}},"Free unblocks remaining today:"," ",n.createElement("strong",null,3-s),"/",3),l?n.createElement("div",null,n.createElement("svg",{width:"120",height:"120",viewBox:"0 0 100 100"},n.createElement("circle",{cx:"50",cy:"50",r:"45",stroke:"#E0E0E0",strokeWidth:"6",fill:"none"}),n.createElement("circle",{cx:"50",cy:"50",r:"45",stroke:"#d72323",strokeWidth:"6",fill:"none",strokeDasharray:""+2*Math.PI*45,strokeDashoffset:(()=>{if(null===o||null===i)return 0;const e=o/i;return 2*Math.PI*45*(1-e)})(),style:{transition:"stroke-dashoffset 1s linear"}}),n.createElement("text",{x:"50",y:"55",textAnchor:"middle",fontSize:"18",fill:"#d72323",fontWeight:"bold"},Math.floor(o/60),":",String(o%60).padStart(2,"0")))):n.createElement("div",null,n.createElement("button",{style:{padding:"12px 20px",margin:"5px",backgroundColor:s>=3?"#ccc":"#d72323",color:"#fff",border:"none",borderRadius:"8px",cursor:s>=3?"not-allowed":"pointer",fontSize:"16px",transition:"background-color 0.3s"},onClick:()=>k(5),disabled:s>=3},"Free 5 Minutes Unblock"),n.createElement("div",{style:{marginTop:"20px"}},n.createElement("h3",{style:{fontSize:"14px",marginBottom:"10px"}},"Paid Unblock (30 Minutes)"),n.createElement("input",{type:"text",value:u,onChange:e=>p(e.target.value),placeholder:"Enter paid code",style:{padding:"10px",width:"80%",border:"1px solid #ccc",borderRadius:"8px",marginBottom:"10px"},disabled:null!==y&&y>0}),n.createElement("button",{style:{padding:"12px 20px",backgroundColor:"#d72323",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px"},onClick:()=>{return e=void 0,t=void 0,n=function*(){const e=Date.now();if(g&&e<g)v("Please wait until the cooldown period is over.","error",5e3);else try{const t=yield fetch("https://api.sheetbest.com/sheets/ef14d1b6-72df-47a9-8be8-9046b19cfa87");if((yield t.json()).find((e=>e.Code===u&&"FALSE"===e.isUsed))){k(30,!0);const t=e+18e6;x(t),E(18e3),chrome.storage.local.set({cooldownExpiration:t}),yield fetch(`https://api.sheetbest.com/sheets/ef14d1b6-72df-47a9-8be8-9046b19cfa87/Code/${u}`,{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({Code:u,isUsed:"TRUE"})}),p(""),v("Paid unblock code applied successfully!","success",5e3)}else v("Invalid or already used code.","error",5e3)}catch(e){console.error("Error validating paid unblock code:",e),v("Failed to validate code. Please try again.","error",5e3)}},new((o=void 0)||(o=Promise))((function(r,l){function a(e){try{c(n.next(e))}catch(e){l(e)}}function i(e){try{c(n.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,i)}c((n=n.apply(e,t||[])).next())}));var e,t,o,n},disabled:null!==y&&y>0},"Apply Code"),null!==y&&y>0&&n.createElement("p",{style:{color:"#d72323",marginTop:"10px"}},"You are currently in a cooldown period. You can apply for a paid unblock after: ",(e=>{const t=Math.floor(e/3600),o=Math.floor(e%3600/60),n=e%60;return`${t}:${String(o).padStart(2,"0")}:${String(n).padStart(2,"0")}`})(y)))),n.createElement("div",{id:"notification",style:{marginBottom:"10px",padding:"10px",color:"success"===h?"#004400":"#ff0000",backgroundColor:"success"===h?"#ccffcc":"#ffe5e5",border:"1px solid "+("success"===h?"#004400":"#a00"),borderRadius:"5px",fontSize:"14px",display:m?"block":"none"}},m),n.createElement("div",{style:{marginTop:"20px",display:"flex",justifyContent:"space-between",fontSize:"14px"}},n.createElement("a",{href:"https://buy.stripe.com/3cs4hj00X0TheaY146",target:"_blank",rel:"noopener noreferrer",style:{color:"#d72323",textDecoration:"none"}},"Purchase 30 Min Unblock ($5)")))}),null))}},o={};function n(e){var r=o[e];if(void 0!==r)return r.exports;var l=o[e]={id:e,exports:{}};return t[e](l,l.exports,n),l.exports}n.m=t,e=[],n.O=(t,o,r,l)=>{if(!o){var a=1/0;for(d=0;d<e.length;d++){o=e[d][0],r=e[d][1],l=e[d][2];for(var i=!0,c=0;c<o.length;c++)(!1&l||a>=l)&&Object.keys(n.O).every((e=>n.O[e](o[c])))?o.splice(c--,1):(i=!1,l<a&&(a=l));if(i){e.splice(d--,1);var s=r();void 0!==s&&(t=s)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[o,r,l]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=o[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{n.b=document.baseURI||self.location.href;var e={887:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var r,l,a=o[0],i=o[1],c=o[2],s=0;if(a.some((t=>0!==e[t]))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(c)var d=c(n)}for(t&&t(o);s<a.length;s++)l=a[s],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(d)},o=self.webpackChunkbetting_blocker=self.webpackChunkbetting_blocker||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),n.nc=void 0;var r=n.O(void 0,[862],(()=>n(268)));r=n.O(r)})();